# Test resources

This directory contains various resources used for functional testing of the unarchiver. All data in [`ArchivedData`](ArchivedData) 
directory is generated by [`generate_reference_data.swift`](generate_reference_data.swift).

The purpose of ArchiveData is to provide a reference packed data which is for sure complain with the format. As the 
format is internal to the `NSKeyedArchiver` implementation no reference documentation exists. The only sane way to study
it and write an unarchiver is to observe the input & output data from the official packer. The ArchiveData tries to be
representative of various structures and peculiarities of the format possible.

The [`BrokenData`](BrokenData) directory contains deliberately damaged archives to ensure the unarchiver is resilient
enough to not break unexpectedly but fail with a known state. Since tests attempt to read both binary and plain-text 
(XML) plists both formats must be present. The intention is to edit the XML variant and run [`broken_xml_to_bin.sh`](broken_xml_to_bin.sh)
which **deletes** all `.bin.plist` files and converts all `.xml.plist` to their binary equivalents.
